In this chapter a survey of pervasive healthcare applications is presented. In order to gain a greater understanding of which are the building blocks of a typical \acf{IoT} system, a reference model is also presented.

\section{Internet of Things}

\subsection{What is IoT?}

\acl{IoT} (or \acs{IoT}) is an emerging communication paradigm, often hailed as the driver of the Fourth Industrial Revolution \cite{Aceto2020}. \bigskip

The definition of this concept has evolved over time with the development of other technologies such as data analytics, embedded systems, etc. Fundamentally, it describes a strategy supported on the development of networks of smart devices that exchange and process information through Machine-to-Machine (M2M) communications, usually based on the Internet Protocol (IP) \cite{Baker2017}. This technology enables ubiquitous systems to gather remarkable amounts of information regarding the surrounding environment, which can later be turned into insight through the usage of data analytics tools, like Machine Learning. \bigskip

More specifically in the healthcare domain, this technology can provide many benefits as it enables remote and continuous health monitoring \cite{Doukas2012, Wu2020, Fan2014}. It allows non-critical patients to be monitored from the comfort of their own houses rather than in hospitals or clinics, reducing the strain on scarce hospital resources such as doctors or beds. This is particularly beneficial to those who live in rural areas, with limited access to healthcare services. It allows elderly people and those with chronic diseases to have greater control over their own health, allowing them to live more independently. Moreover, with the automatization of medical procedures, these systems can make healthcare infrastructures more efficient and thus lower the costs of healthcare \cite{Catarinucci2015, Adame2018}. Particularly, in the realm of clinical research, by analyzing the data collected by these ubiquitous systems, it may be possible to find new relationships between certain pathologies and different physiological signals, such as variations in body temperature or heart rate \cite{Choi2016}. These correlations, commonly referred to as biomarkers, can be used by these systems to assist clinical decisions, enabling novel predictive, prognostic, and diagnostic processes in healthcare.

\todo[inline]{To-do: Review paragraph - it emphasizes remote health monitoring, but in hospitals  }

\section{A Reference Model for Pervasive Healthcare Applications}

A reference model provides a general structure for designing systems, a set of commonly recommended practices. It serves as a starting point in the design process as it enabling the comprehension of these complex systems by breaking them down into simple and distinct functional layers, while also defining some common terminology used in its domain. \bigskip

In 2014 the \acs{IoT} World Forum (IoTWF) architectural committee published an \acs{IoT} architectural reference model, composed by seven layers as shown in figure \ref{fig:iotwf-referencemodel}. This model provides a simple and clean functional view into the different components of an \acs{IoT} system, without restricting the scope or locality of its components. However, from a hardware perspective, in this work we will restrict our focus to the most common approach taken by researchers, using 3 distinct components: 

\begin{itemize}
    \item \textbf{Endpoint} or \textbf{edge} nodes (corresponding to Layer 1), which interact with the physical world, capturing data.
    \item \textbf{Gateway} devices (Layers 2-3), which connect to one or multiple \textbf{edge} nodes, filtering and aggregating the data generated by these and communicating it to the central server; 
    \item \textbf{Central} server (Layers 4-6), which is responsible for collecting, storing and analyzing the captured data in order to provide users with valuable insight;
\end{itemize}

While this model can be used to develop IoT systems for any industry (from agriculture to smart cities), in the context of the dissertation we will focus on pervasive healthcare applications and its enabling technologies. \bigskip

\todo[inline]{To-do: Make new image based on this one.}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.85\linewidth]{images/iotwf-referencemodel.png}
    \caption[IoT reference model published by IoTWF.]{IoT reference model published by IoTWF. Source: \cite{Cisco2014}.}
    \label{fig:iotwf-referencemodel}
\end{figure}

\subsection{Layer 1: Physical Devices and Controllers}
\label{sec:iot-model-layer1}

\todo[inline]{To-do: Review this section later. Reminder to check if there are any statements that need citations.}

The first layer of the model is the physical devices and controller layer. This layer houses the ``things'' in the \acl{IoT}: the endpoint devices composed of sensors and actuators that perceive and interact with the physical world. Through those interactions, the devices generate data, which is then sent across the network for analysis and storage. \bigskip

% When designing an \acs {IoT} system, the first step should be to analyze the mobility and data requirements of the system \cite{10.5555/3161403}. \textbf{Mobility} describes the devices' ability to move and, and if so, how frequently it does. \textbf{Data} requirements describe how much data is generated and transmitted by each device per unit of time, and how critical is it to the operation. Simpler health monitoring applications can include a single temperature or heart rate sensor while more complex applications can include pulse oximetry, electrocardiogram (\acs{ECG}), respiration rate sensors, etc. \bigskip


Wearable, wireless, and non-intrusive devices are viewed as one of the key components of \acs{IoT}-based healthcare systems \cite{Baker2017}. In recent years there has been remarkable progress on the development of wearable devices, driven by recent technological breakthroughs in the miniaturization of sensors and microfabrication processes \cite{Adame2018, Catarinucci2015}.


From the literature, we can also classify the sensors used in these devices in 3 distinct categories based on information that can be extracted from them, as shown in table \ref{tab:layer1-sensors}:

\begin{itemize}
    \item Monitoring the patient's physiological signals, used for evaluating the patient's health condition.
    \item Monitoring the patient's activity or motion, used for detecting fall events, determining the patient's location and travelled distance, estimating the patient's body posture, etc.
    \item Monitoring the patient's environment conditions, mainly used for assessing environmental hazards, \textit{e.g.} gas leaks in a patient's home or an industrial workplace.
\end{itemize}

\todo[inline]{Note: Is it technically correct to designate these as ``sensors'' or should they be designated physiological / environmental signals instead?}

\renewcommand{\arraystretch}{2}
\begin{table}[H]
    \centering
    \begin{tabular}{l|l}
        \textbf{Type of monitoring} & \textbf{Type of sensors used} \\ 
        \hline
        Vital Signs Monitoring & \makecell{Blood Pressure, \acs{ECG}, \acs{PPG}, Body Temperature, \\ Respiratory Rate, Galvanic Skin Response, \\ Pulse Oximetry, Glucose Level Sensors} \\
        Activity Monitoring & Accelerometer, Gyroscope, Magnetometer\\
        Environmental Monitoring & Air Temperature, Barometer, Humidity, Gas Sensors \\
    \end{tabular}
    \caption[List of sensors commonly used in pervasive healthcare applications.]{List of sensors commonly used in pervasive healthcare applications. Adapted from \cite{MinhDang2019}.}
    \label{tab:layer1-sensors} 
\end{table}
\renewcommand{\arraystretch}{1}

% With these key requirements established, we can now discuss some other characteristics of the smart devices, like:
% \begin{itemize}
%    \item \textbf{Power source}: This classification describes if the device has an internal energy supply powering the device or if it has continuous power delivery from an external source. If the device must be mobile, it will very likely require a  portable power source, a battery. Battery-powered devices are not bound to a single location, but the finite energy source constrains the device's energy consumption and lifetime, leading to limited memory, computation and connectivity capabilities. Shorter lifetimes also translate into higher maintenance costs, as these devices will need to be replaced more often.
%\item \textbf{Transmission range}: This classification describes how far the devices can communicate. In healthcare, these usually have short transmission ranges. For example, a fitness band that communicates with a smartphone will be located, at most, a few meters from it. 
% \end{itemize}

\subsection{Layer 2: Connectivity}
\label{sec:iot-model-layer2}

The second layer of the model focuses on connectivity, on linking the different components of our system, ensuring reliable and timely data transmissions. This includes all communications within the system, which can be divided into two categories: communications within the local network (\textit{e.g.} between edge nodes and the gateway devices), and communications between the edge of the local network (\textit{e.g.} gateway devices) and the central server. \bigskip

\subsubsection{Communication Protocols}

Technologies are designed with particular use cases in mind. They catalyze their development and thus it is natural that each one has its own advantages and disadvantages, according to its use. For instance, short range wireless protocols are limited by transmission range, but long range protocols have a higher energy consumption, which may be unviable for networks with very constrained devices. Each protocol defines their own frame formats and communicates within certain frequency bands, some of which may require licenses. Using licensed frequency bands, provides better performance and ensures greater reliability since the network operator grants you exclusivity of frequency spectrum within a certain area. \bigskip

From the literature, we can identify a set of key requirements that drive the decision of the communication protocols \cite{Catarinucci2015, Adame2018}:

\begin{itemize}
    \item \textbf{Energy consumption}: For networks composed of energy constrained devices, the communication protocol should be lightweight and energy efficient in order to maximize the devices' lifetime. 
    \item \textbf{Latency}: Certain applications deal with time critical events, for example the detection of health emergencies \cite{Catarinucci2015}. In these cases, any delays in the communications can cause great detriment to the patient's well-being, making it crucial to minimize them.
    \item \textbf{Reliability}: Depending on the critical nature of the data that is being communicated, the network stack may need to implement processes such as error-detection, retransmission or handshakes in the communications to ensure more robust transmissions (\textit{e.g.} as implemented in TCP/IP based protocols. Generally, these features come at the cost of greater latency. Therefore, when choosing the communication protocol a balance must be found between reliability and latency.
    \item \textbf{Security}: Security is one of the most important requirements of any system, but this is especially true for healthcare applications. Due to the sensitive nature of the information, it is crucial to secure it from malicious actors. Communication protocols must implement security mechanisms, such as encryption or data integrity verifications, that ensure the transmissions are not compromised in transit, thus denying third parties the ability to snoop or tamper the transmissions. This issue is studied in depth in \cite{Gope2016}.
    \item \textbf{Interoperability}: To ensure the interoperability of the system it is imperative to choose protocols that are widely accepted and supported in the application domain. This also contributes to the longevity of the system, as these will most likely remain supported for longer time periods. 
    \item \textbf{Scalability}: These systems contain an enormous amount of devices, and each one must be uniquely identified. The communication protocol must ensure that every device in the network is addressable.
%    \item \textbf{Throughput}: The communication protocol should ensure there is enough bandwidth to handle all communications within the designated transmission range. Even within similar technologies, this can vary wildly with the range as seen in figure \ref{fig:communication-protocols-throughput}.  

\end{itemize}

% \begin{figure}[H] 
%     \centering
%     \includegraphics[width=0.55\linewidth]{images/communication-protocols-throughput.png}
%     \caption{Throughput versus Transmission range for four WHAN to WLAN communications protocols. Source: \cite% {10.5555/3161403}}
%     \label{fig:communication-protocols-throughput}
% \end{figure}

%The figure \ref{fig:communication-protocols} lists some commonly used protocols in \acs{IoT} systems grouped by range. \bigskip
%\begin{figure}[H]
%    \centering
%    \includegraphics[width=0.80\linewidth]{images/communication-protocols.png}
%    \caption[Classification and grouping of various network protocols by range.]{ Classification and grouping of various network protocols by %range. Source: \cite{10.5555/3161403}}
%    \label{fig:communication-protocols}
%\end{figure} 
%\todo[inline]{To-do: Make new image based on this one.}

Regarding the communications within the local network, these generally have short transmission ranges. The edge devices are usually energy-constrained devices, so it is crucial to choose an energy-efficient communication protocol. Within these, the most widely adopted protocol is \acf{BLE}, a low-energy version of the classic Bluetooth protocol.  ZigBee and \acf{RFID} are also used in many systems, but are bested by \acs{BLE}. Although there isn't a universal specification for \acs{RFID}, the most widely used standard is the EPCglobal Gen2 RFID \cite{EPCglobal2006}, which will be the standard discussed in this work. For the sake of simplicity, we will address it only as EPC/\acs{RFID}. \bigskip

Out of these three technologies, \acs{BLE} offers greater throughput, better security, and nearly the lowest energy consumption \cite{dementyev2013power}. Table \ref{tab:comparsion-shortrangeprotocols} shows a comparison between the different protocols.

\renewcommand{\arraystretch}{1.5}
 \begin{table}[H]
     \centering
     \begin{tabular}{r|l|l|l}
         & \textbf{\acl{BLE}} & \textbf{EPC/\acs{RFID}}& \textbf{ZigBee}  \\ \hline
         \textbf{Band of operation} & 2.4 GHz & LF, HF, UHF, EHF & 2.4 GHz \\
         \textbf{Communication} & Bidirectional & \makecell{Unidirectional \\ (Bidirectional for\\ Active tags)} & Bidirectional \\
         \textbf{Topology} & \makecell{ Point-to-Point, Piconet, \\ Broadcast, Mesh } & Point-to-Point & Mesh \\
         \textbf{Range} & 100m & \makecell{<10m, (100m for\\ Active tags)} & 20m \\
         \textbf{Data rate} & 1Mb/s (up to 2Mb/s) & 40kb/s & 250kb/s \\
         \textbf{Security Features} & \makecell{AES-128, Secure pairing \\ prior to key exchange} & \xmark & \makecell{AES-128 (Optional),\\ Network key shared \\across network, \\ Optional link key to \\ secure application layer \\ communications}\\
     \end{tabular}
     \caption[Comparison between the more common communication protocols used within short range]{Comparison between the more common communication protocols used within short range. Adapted from \cite{Baker2017}.}
     \label{tab:comparsion-shortrangeprotocols}
 \end{table} 
\renewcommand{\arraystretch}{1}

Regarding the communications between the gateway devices and the central server, most researchers try to make use of existing infrastructure in order to facilitate the deployment of new systems. This means, that the communications between the gateway devices and the central server are often done through generic IP-based protocols such as Wi-Fi and Ethernet \cite{Adame2018, Fuhrer2006, Wu2020, Catarinucci2015}. This is 

\todo[inline]{To-do: Should a short comparison between long range protocols be discussed (e.g. NB-IoT)?}

\subsubsection{Application Protocols}
\todo[inline]{To-do: Review this section later.}

So far we've discussed the underlying networking technologies that link the devices in our system. But according to the OSI Model, we can note that many of these technologies don't define the application layer: how the devices communicate with each other, how the data is formatted, if there's hierarchy within the network, etc. When considering networks composed of constrained devices, generic web-based protocols such as HTTP may be too heavy for \acs{IoT} applications, which prompts the development of novel lightweight messaging protocols suited for these systems. The most popular application layer protocols in \acs{IoT} systems are \acf{MQTT} and \acf{CoAP}. Table \ref{tab:comparsion-applicationprotocols} shows a short comparison between these two. \bigskip

\renewcommand{\arraystretch}{1.5}
\begin{table}[H]
    \centering
    \begin{tabular}{r|l|l}
        %\textbf{Features} 
        & \textbf{\acs{MQTT}}& \textbf{\acs{CoAP}}  \\ \hline
        \textbf{Transport protocol} & TCP/IP & UDP/IP \\
        \textbf{Messaging pattern} & Publish-Subscribe & Request-Response \\
        \textbf{Communication model} & Many-to-many & One-to-one \\
        \textbf{Security} & SSL/TLS (Optional) & DTLS \\
        \textbf{Strengths} & \makecell{TCP and Quality of Service (QoS)\\ options provide robust \\communications, easier to implement } & \makecell{Better for lossy networks,\\ lower latency} \\
        \textbf{Weaknesses} & \makecell{Higher overhead and energy\\ consumption than \acs{CoAP}} & \makecell{Not as reliable and is\\less supported than MQTT} \\
    \end{tabular}
    \caption[Comparison between \acs{CoAP} and \acs{MQTT} protocols.]{Comparison between \acs{CoAP} and \acs{MQTT} protocols. Adapted from \cite{10.5555/3161403}.}
    \label{tab:comparsion-applicationprotocols}
\end{table} 
\renewcommand{\arraystretch}{1}

In \cite{Rubi2019} the authors compare these two protocols in greater length, along with the more commonly used web-based protocol HTTP. They analyze the latency in the communications (from the edge devices to remote servers) and the RAM usage in the devices for each protocol and for different data sources (respiration rate, oxygen saturation and heart rate signals) and found that \acs{CoAP} presented the best overall performance. Nonetheless, all protocols had very low latencies (less than 1.5s) and low memory usage. The authors indicate that \acs{MQTT} might be more suitable for a certain messaging pattern, designated ``Publish/Subscribe'' model. \bigskip

In this model, the devices that want to send messages, also called ``publishers'', broadcast them within specific message topics. The devices that wish to receive these messages, also called ``subscribers'', can subscribe to topics to be notified when new messages are sent. \acs{CoAP} uses a different messaging pattern, called ``Request-Response''. In this paradigm, a device sends a request to receive certain data and the second responds to this request. We can observe that former model is event-driven while the latter is query-based. 
%Therefore, we can conclude ``Publish-Subscribe'' model is a better match for the flow of data in our system.

\subsection{Layer 3: Edge (Fog) Computing}
\label{sec:iot-model-layer3}

\acs{IoT} systems can often have hundreds or even thousands of sensors generating data multiple times per second, 24 hours per day, which can demand an unsustainable amount of network and computing resources. Moreover, certain applications may be time critical, where delays in communication can be very detrimental. To minimize these effects, it is crucial to initiate data processing as close to the edge of the network as possible. This paradigm is usually referred to as ``edge computing'' (when the data processing occurs at the endpoint devices) or ``fog computing'' (when it happens at the edge of local network, \textit{e.g} in ``gateway'' devices). The third layer of the model defines how the system prepares the data for storage and higher level processing for the next layers. However, the devices often have limited computing capabilities, so the data processing at this stage is generally very limited, mostly focused on ``preprocessing'' the data in real-time and handling more time critical events. More demanding and thorough analysis is left to the central server. The different processes applied at this stage usually are:

\begin{itemize}
    \item \textbf{Filtering}: Assessing if the data should be processed at a higher level. 
    \item \textbf{Formatting}: Reformatting data to ensure consistent formats for higher-level processing.
    \item \textbf{Cleaning}: Reducing data to minimize the impact of data on the network and higher level processing systems.
    \item \textbf{Evaluation}: Determining whether data represents a threshold or alert. This is especially relevant for applications that deal with time critical events as seen in the previous section.
\end{itemize}

\subsection{Layer 4: Data Accumulation}
\label{sec:iot-model-layer4}

\todo[inline]{To-do: Review this section later.}

The data that is generated by the edge devices is propagated through the system, moving through each layer with each sensor reading. Up to this point, we can state that the architecture is event driven. However, most applications cannot make use of the data at the rate it is generated \cite{10.5555/3161403}. In this layer, Data Accumulation, we need to define how the system captures the data and stores it, so it becomes usable for applications when needed, thus transiting from event to query-based processing. 

% This includes any issues related with data storage: how the data should be stored (\textit{e.g.} using a relational database, non-relational database, distributed file systems, data compression, etc.), what data should be stored and which should be kept for short-term use, etc.\bigskip

\todo[inline]{To-do: Should homomorphic encryption methods be discussed? Discuss what is Hadoop? What are the 5 V's of Big Data? Compare different database technologies? NoSQL technologies are better suited for unstructured data. Also, maybe mention that in the context of the project, we'll be using a local server? }

In healthcare, big data analytics is seen as one of the most promising features of \acs{IoT} applications. However, the massive data collection that is associated with ubiquitous systems causes many issues concerning the processing and storage of data. Cloud platforms are often seen as a solution to these problems \cite{Baker2017}. This is made possible due to the elasticity in allocating, swiftly and inexpensively, computing and storage resources on-demand, adjusting itself to the needs of each application. We can find 3 distinct types of cloud services: %, figure \ref{fig:differences-between-cloud-services}:

\begin{itemize}
    \item \textbf{Infrastructure as Service (IaaS)}: Provides control over the remote machine (composed of virtual or dedicated hardware), operative system and middleware. This approach gives system designers the highest level of flexibility over the infrastructure, but requires more maintenance.
    \item \textbf{Platform as a Service (PaaS)}: Provides a simple framework for developing applications, where the service provider manages the underlying infrastructure issues such as software updates and hardware maintenance. 
    \item \textbf{Software as a Service (SaaS)}: Provides the finished applications to be used by the end users, in this case health workers, that enable them to work. A simple example is a web-based email service, such as Gmail or Microsoft Outlook. 
\end{itemize}

\begin{figure}[H]
    \centering
    \includegraphics[width=\linewidth]{images/cloud-services.png}
    \caption[Differences between the cloud offerings and on-premise solutions.]{ Differences between the cloud offerings and on-premise solutions. Source: \cite{RedHat2021}}
    \label{fig:differences-between-cloud-services}
\end{figure}

Nonetheless, security and privacy remain as key concerns for the implementation of cloud-based solutions. The information must remain accessible to authorized parties such as healthcare providers, but the patient's health data has to kept private. To solve this, there are two commonly adopted features in the literature: access control policies and data encryption\cite{}. Access control policies define who can access the data, by authenticating them (validating the identity of the user) and by authorizing them (ensuring that the user has permissions to perform a given operation). Data encryption ensures that, even if the data is leaked, it is still unreadable to third parties, and therefore the sensitive information remains secure and private.

% \cite{Manogaran2018}  

% In the context of the WoW project, we'll be developing a local server

\subsection{Layer 5: Data Abstraction}
\label{sec:iot-model-layer5}

\todo[inline]{To-do: What other details should be added in this section? FHIR functionality will be developed in a later chapter} 

In the previous layer, Data Accumulation, we've defined how the system captures the information. In some cases, the collection of data may require the development of multiple concurrent storage solutions, each using different technologies, resulting in a very complex environment. The purpose of this layer is simplify how the applications access the data, to reconcile the different data stores and ensure the information is complete and consistent. This is generally accomplished with the development of \acl{API}s (\acs{API}). \bigskip 

An \acs{API} is a computing interface that defines a set of rules that ``explain how computers and applications communicate with one another'', acting as an intermediary between these different components \cite{IBMAPI}. It defines what operations can be performed, how to request them, which are the accepted data types, etc. In this case, it decouples applications from the storage solutions, by encapsulating their functionality behind the interface. This ensures the modularity of the system as the applications become independent of whichever technologies are used in the data stores. Moreover, by using standardized protocols and data formats, it is possible to provide   \bigskip


\todo[inline]{To-do: Discuss what is a RESTful API? Or leave it for the FHIR chapter? Also, review later this bridge between APIs and EHRs}


Now, we need to understand what and how information is shared within the healthcare domain. As patients continuously move around the healthcare ecosystem, their health information must be available, discoverable and understandable to different entities (hospitals, laboratories, pharmacies, etc.). This prompts the digitization of medical files and the development of standards for exchanging these records instantly and securely to authorized parties \cite{HL72019}, which are called \acl{EHR}s (\acs{EHR}s). \acs{EHR}s are the digital equivalent of a patient's paper-chart, they contain the patients' full medical history: previous diagnoses, treatment plans, test results, known allergies, among other details. \bigskip

% Comparison between OpenEHR and FHIR?
One of the most prominent standards for exchanging \acs{EHR}s is \acf{FHIR}. \acs{FHIR} is a standard developed by Health Level Seven International (HL7), which is a non-profit organization involved in the development of international healthcare informatics for over 20 years. \acs{FHIR} builds upon previous data format standards like HL7 v2 and HL7 v3, and is becoming more and more widely adopted within the healthcare industry \cite{Peng2019}. 

\subsection{Layer 6: Application}
\label{sec:iot-model-layer6}

\todo[inline]{To-do: Complete section.}

% Interprets data using software application. Applications may monitor, control and provide reports based on the analysis of the data.
% If the 5 V's of Big Data are mentioned in the previous section, this is where the VALUE of data is extracted.

The sixth layer is the application layer, where the system ingests the captured data and proceeds to analyze it. Users can then interact with the system through Graphical User Interfaces (UI), which provide different functionalities depending on the application. Some may show simple reports regarding the collected data \cite{Doukas2012, Wu2020}, other may allow users to monitor and control the different components of the system. Thus, in this layer, the system delivers the value for the end users.

As previously mentioned, one of the greatest benefits \acs{IoT} systems can provide is big data analytics 

Recently, and motivated by the recent pandemic crisis, investigators from ISR-Lisboa developed a system called e-CoVig, a low-cost solution for monitoring patients during the COVID-19 quarantine.  

In context of the \acs{WoW} project, the system should be 


In healthcare, and particularly in hospitals, clinical professionals use \acl{HIS}s (\acs{HIS}). These systems are used to manage all different aspects of a hospital's operation, medical, administrative, financial and legal. 



% Finally, machine learning to perform diagnostics or provide treatment plans would be extremely valuable in a healthcare context, so a cloud storage framework for healthcare would need to enable value. As all of the characteristics of big data are important to healthcare applications, recent research in this area has focused on storing a wide variety of data generated by voluminous IoT systems in an organized manner that may be useful for later data analysis.

% Centralized and hassle-free collection of data from humans, is a very desired topic in digital health, since it would allow discovery of new digital biomarkers. That is, by acquisition and analysis of electrical/auditory/other physical events of the body, one can find new relationships between certain conditions of the patients and these events [76]. As an example, it is known that dementia has effects on regulation of the body temperature. Therefore, would it be possible to use continuous monitoring of the body temperature and AI to discover Alzheimer development? Although this is not the objective of this project, the proposal makes an important step towards providing large and diverse data to data scientists for analysis. Within this project, we will demonstrate a preliminary example of this ambitious objective, by analyzing 24 hours of data from 3 volunteer who are using a specific drug (i.e. paracetamol or similar), and demonstrate the effect of the drug intake on various parameters, including temperature, emotions, heart rate, blood oxygen, and respiration.

% Level 6 is the application level, where information interpretation occurs. Software at this level interacts with Level 5 and data at rest, so it does not have to operate at network speeds.
% The IoT Reference Model does not strictly define an application. Applications vary based on vertical markets, the nature of device data, and business needs. For example, some applications will focus on monitoring device data. Some will focus on controlling devices. Some will combine device and non-device data. Monitoring and control applications represent many different application models, programming patterns, and software stacks, leading to discussions of operating systems, mobility, application servers, hypervisors, multi-threading, multi-tenancy, etc. These topics are beyond the scope of the IoT Reference Model discussion. Suffice it to say that application complexity will vary widely.
% Examples include:
% ● Mission-critical business applications, such as generalized ERP or specialized industry solutions
% ● Mobile applications that handle simple interactions
% ● Business intelligence reports, where the application is the BI server
% ● Analytic applications that interpret data for business decisions
% ● System management/control center applications that control the IoT system itself and don’t act on the data produced by it.

%\subsection{Layer 7: Collaboration and Processes}
%\label{sec:iot-model-layer7}

%\todo[inline]{To-do: The Cisco model defines a seventh layer: Collaboration and Processes, but how can one model for it (if it is even possible)?  Should this section be removed entirely, or what should be added to make it more complete? }

%The information that is created by the \acs{IoT} yields little value unless it prompts action, which requires people and processes (seventh layer). The objective is not the application — it is to empower people to work better and more efficiently. The sixth layer (Applications) provides business people the right insight, at the right time, so they can make the right decision. To do this people must be able to communicate and collaborate, which often requires multiple steps and transcends multiple applications \cite{Cisco2014}.

\section{Similar approaches}

\input{state_of_art-sysrev}

\subsection{Comparative Analysis}

 \renewcommand{\arraystretch}{2}
  \begin{sidewaystable}[h]
      \centering
      \begin{tabular}{l|l|l|l|l|l|l}
        \textbf{References} & \makecell{\textbf{Measured} \textbf{Signals}} & \makecell{\textbf{Networking} \textbf{Protocols}}& \makecell{\textbf{Data} \textbf{Storage}} & \makecell{\textbf{e-Health} \textbf{Standards}} & \textbf{Features} & \textbf{Security} \\ \hline
          \cite{Fuhrer2006} & \xmark & \makecell{EPC/RFID,\\ Wi-Fi} & MySQL & None & \makecell{RTLS}& \makecell{Unspecified Storage \\Encryption} \\
          \cite{Adame2018} & \makecell{Temperature, \\Heart Rate,\\ Accelerometer} & \makecell{EPC/RFID,\\ Wi-Fi} & MySQL & None & \makecell{RTLS, \\ Fall Detection,\\ Vital signs\\ monitoring}& \makecell{Unspecified Storage \\Encryption} \\
          \cite{Wu2020} & \makecell{Temperature, \\Heart Rate,\\ Accelerometer} & \makecell{BLE,\\ Wi-Fi} & MySQL & None & \makecell{RTLS, \\ Fall Detection,\\ Vital signs\\ monitoring}& \makecell{AES-128} \\
          \cite{} & \makecell{Temperature, \\Heart Rate,\\ Accelerometer} & \makecell{EPC/RFID,\\ Wi-Fi} & MySQL & None & \makecell{RTLS, \\ Fall Detection,\\ Vital signs\\ monitoring}& \makecell{Unspecified Storage \\Encryption} \\
          \cite{} & \makecell{Temperature, \\Heart Rate,\\ Accelerometer} & \makecell{EPC/RFID,\\ Wi-Fi} & MySQL & None & \makecell{RTLS, \\ Fall Detection,\\ Vital signs\\ monitoring}& \makecell{Unspecified Storage \\Encryption} \\
          \cite{} & \makecell{Temperature, \\Heart Rate,\\ Accelerometer} & \makecell{EPC/RFID,\\ Wi-Fi} & MySQL & None & \makecell{RTLS, \\ Fall Detection,\\ Vital signs\\ monitoring}& \makecell{Unspecified Storage \\Encryption} \\
        \end{tabular}
      \caption{Comparison between .}
      \label{tab:comparsion-articles}
  \end{sidewaystable} 
 \renewcommand{\arraystretch}{1}

\clearpage
\subsection{Weaknesses of literature}

\subsubsection{Security and Privacy}

\todo[inline]{To-do: Complete section.}

\subsubsection{Interoperability} 

Despite recent efforts, interoperability is still an issue of \acs{IoT} systems. Due to the lack of clear and concise industry standards and regulations, many manufacturers develop their own proprietary data formats and communication protocols, which hampers the integration of new resources since the systems are designed within closed ecosystems \cite{Rubi2019}. Moreover, the adoption of new systems can be often met with much objection from the clinical staff due to their mistrust of technology \cite{DursunErgezen2020}. 
To facilitate the deployment of new healthcare systems in hospitals, these need to be integrated easily in existing \acs{HIS}. \bigskip
In the context of the \acs{WoW} project, 


%Fortunately, there are several international initiatives to promote the use of \acs{IoT} in health in a standardized way. This is the case of HIMSS (Healthcare Information and Management Systems Society) and the Personal Connected Health Alliance (PCHAlliance), whose purpose is to promote evidence to demonstrate effectiveness, foster practical innovation, enable partnering, convene stakeholders to accelerate change, publish guidelines and promote standards.
%PCHAlliance promotes the adoption of the Continua Design Guidelines (CDG), which facilitates the integration of personal health devices into health systems. These guidelines have been recognized by ITU (International Telecommunication Union) and the European Commission and are adopted by countries such as Denmark, Norway and the USA, among others \cite{PersonalConnectedHealthAlliance2017}.
%\begin{figure}[H]
%    \centering
%    \includegraphics[width=.90\linewidth]{images/cdg-architecutre.png}
%    \caption{System architecture from the Personal C5onnected Health Alliance \cite{PersonalConnectedHealthAlliance2017}.}
%    \label{fig:continua-architecture}
%\end{figure}


\section{Statement of Contributions}
%tendo em conta o estado da arte, as suas limitações e pontos fortes, propomos um sistema que
%1) vai para alem do estado da arte nisto e naquilo.
%2) inspira-se nos conceitos extistentes nisto e naquilo.

\todo[inline]{To-do: Complete section.}

After studying the different approaches taken by investigators, and in context of the \acs{WoW} project, 

% Within this project we aim to continue to expand the capabilities of the Continua Design Principles to further extend the software to collect the data that is being exchanged between sensors, gateways, and end services to make implementations truly interoperable.

\begin{itemize}
    \item Hardware evaluation for edge nodes which integrate electronic wireless patches that gather patient's physiological signals;
    \item Integrating IoT system in an existing healthcare information system (Glintt GlobalCare software) through an FHIR API layer;
    \item Evaluation of the performance of the proposed system through a testbed and a real healthcare scenario;
\end{itemize}
